[defaults]
# Ansible configuration for AfriMart project

# Inventory
inventory = ./inventory/aws_ec2.yml

# Roles path
roles_path = /home/jayps/afrimart-ecommerce/ansible/roles

# Host key checking (disable for initial setup)
host_key_checking = False

# Gather facts
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts
fact_caching_timeout = 86400

# Callbacks (using modern ansible.builtin.default with result_format)
stdout_callback = ansible.builtin.default
callback_whitelist = profile_tasks, timer

# Logging
log_path = ./ansible.log

# Privilege escalation
become = yes
become_method = sudo
become_user = root
remote_user = ec2-user

# SSH settings
[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o ProxyCommand="ssh -W %h:%p -q ec2-user@3.239.255.24 -o StrictHostKeyChecking=no -i ~/.ssh/afrimart-key"
pipelining = True
private_key_file = ~/.ssh/afrimart-key
